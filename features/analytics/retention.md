# 留存分析

留存，是指用户在 APP、网站等应用上使用过，并一段时间后仍有使用。

留存分析模型是一种衡量用户健康度/参与度的方法，超越下载量、DAU 等指标，深入了解用户的留存和流失状况，发现影响产品可持续增长的关键因素，指导市场决策、产品改进、提升用户价值等。

## 留存分析能解决哪些问题？

1. 上个月做了一次产品迭代，如何评估其效果？是否完成了产品经理期望完成的行为？
2. 作为一个社交 APP，在注册后不添加好友和添加 10 个好友的用户后续留存有差异吗？
3. 短期留存低，长期留存一定很差吗？
4. 两个推广渠道带来不同的用户，哪个渠道的用户更有可能是的高价值用户？
5. 近 30 天注册的用户，半个月都没有回访的用户比例是多少？

   ……

## 功能说明

![](../../.gitbook/assets/image%20%28286%29.png)

### 1. 定义指标区

上方为指标定义区域，定义留存条件，指标定义、细分维度查看，支持条件过滤，支持多个人群的对比分析，支持对全量数据随机抽样计算。

#### 1.1 定义留存

留存是基于某个用户群体的初始行为时间来计算的，描述发生了某个行为的同期群，在一段时间后是否发生了期望的行为。

初始行为和回访行为均可以是任意事件或者某个具体的事件。

**通常的三类留存可以这样来构建：**

**A. 新增用户留存**

**移动端：** 选择条件【初始行为 = 首次启动，回访行为 = 任意事件】，即可分析用户在首次使用应用后的留存情况

**H5/Web/小程序：** 选择条件【初始行为 = 首次访问，回访行为 = 浏览页面】，即可分析用户在首次访问网站后的留存情况

**B. 活跃用户留存**

**移动端：** 选择条件【初始行为 = 任意事件，回访行为 = 任意事件】，即可分析活跃的用户后续使用应用的情况

**H5/Web/小程序：** 选择条件【初始行为 = 浏览页面，回访行为 = 浏览页面】，即可分析用户活跃的用户在后续访问网站的情况

**C. 自定义留存**

相较分析新增/活跃用户的总体留存情况，关注业务的核心事件使用情况，会更有利于发现用户的行为模式和其中可能存在的问题。

e.g. 对于电商的运营，可以定义【 初始行为 = 支付订单，回访行为 = 支付订单】 了解用户的复购行为，多长时间会产生复购，可以进一步分析这些忠实用户的行为特征；对于问答应用，可以定义【初始行为 = 注册 ，回访行为 = 评论 】，了解用户在注册后有多少用户在多长的频率里会参与进来。

**不同的分析场景中可以设置多个不同的留存条件来分析：**

**初始行为和回访行为设置为相同**，对比不同的功能，重复发生的情况，发现用户对不同功能的使用粘性；

**初始行为相同，设置不同的回访行为**，对比同一个优化，是否对其他功能有不同的影响；

**回访行为相同，设置不同的初始行为**，对比发现不同的运营手段、产品功能对核心业务目标的影响。

#### 1.2 筛选条件

可以增加某个行为的条件约束，查看满足这些条件下的用户行为，e.g.对于电商运营，可以查看具体某个品类的复购情况，【初始行为 = 支付订单，商品品类 = 3C；回访行为 = 支付订单，商品品类 = 3C】。

#### 1.3 指标切换

可以按留存用户或流失用户查看用户留存或者流失趋势。

#### 1.4 细分维度

支持同时查看某个维度不同属性值的留存，比如不同城市的新用户留存，细分发现影响留存的特定因素。 对于不同属性值类型支持不同的分组方式，同《[事件分析 - 1.3 细分维度](event.md#13-xi-fen-wei-du)》

#### 1.5 人群选择

默认基于所有用户计算留存，可以选择其他已保存人群，e.g.要分析北京地区用户留存，选择北京地区的用户即可。也可点击对比分群，选择对应的人群进行对比分析。

![ ](https://imguserradar.analysys.cn/fangzhou/img/2018/08/201808132008186389.png)

### 2. 图表展示

图表展示区，可以选择时间范围、时间粒度、计算留存/流失的方式、图表样式

#### 2.1 时间范围

时间范围限制的是初始行为发生的日期，e.g 选择了【2018/03/01-2018/03/07】【初始行为 = 注册，回访行为 = 任意事件】则计算的是在2018/03/01-2018/03/07这段时间里，每一天注册的用户，在随后30天里再次回访的留存用户。

#### 2.2 时间粒度

可选择的时间粒度，包括：

* **按日**，可分别查看次日、7日、14日及 30日留存
* **按周**，可分别查看次周、8周、12周及 24周留存
* **按月**，可分别查看次月、6月、12月及 24月留存

#### 2.3 留存/流失

反映一段时间里每一天的用户在后续的留存/流失情况。

**留存率，** 指第N日/周/月后回访的留存用户数对于初始行为用户数的占比。

**流失率，** 指第N日/周/月后没有回访的用户数对于初始行为用户数的占比。

![ ](https://imguserradar.analysys.cn/fangzhou/img/2018/08/201808111643128004.png)

A. 基于计算的某个用户群，当细分维度时，该处显示的是维度值。

B. 初始行为的发生日期

C. 在某一天发生初始行为的用户数

D. 在某一天发生初始行为的用户在第N日/周/月发生回访行为的留存用户数/留存率或流失用户数/流失率

**留存用户数/留存率算法**

可以通过切换绝对值和百分数的图标，查看留存用户数和留存率

**流失用户数/流失率算法**

可以通过切换绝对值和百分数的图标，查看流失用户数和流失率

![image](https://imguserradar.analysys.cn/fangzhou/img/2018/04/201804022142036555.png)

**留存用户数**指在某个时间发生的初始行为X的用户，在之后的第 N 日/周/月进行了后续行为 Y 的用户（ X 可以等于 Y ）。

例如：

> 初始行为 = 点击购买
>
> 回访行为 = 点击购买
>
> 4月1日发生购买的用户200人，这200人中4月2日再次购买的用户有100人，4月4日再次购买的用户有50人，则第1日自定义留存用户为100，第3日留存用户为50。

**流失用户数**指在某个时间发生的初始行为X的用户，在之后的第 N 日/周/月没有进行了后续行为 Y 的用户（ X 可以等于 Y ）。

例如：

> 初始行为 = 点击购买
>
> 回访行为=点击购买
>
> 4月1日发生购买的用户200人，这200人中4月2日没有购买的用户有100人，4月4日仍然没有购买的用户有50人，则第1日自定义流失用户为100，第3日流失用户为50。

**基础计算规则**

假设定义初始行为是 X 事件，回访行为是 Y 事件。

2017/03/01-2017/03/08 小明各天的行为序列为：

| 2017/3/2 | 2017/3/2 | 2017/3/3 | 2017/3/4 | 2017/3/5 | 2017/3/6 | 2017/3/7 | 2017/3/8 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| XYXY | ABC | YCX | DDY | ABC | BYC | ABC | DDY |

那么计算 2017/03/01的7日留存，则需要在3月1日之后加上7日，查找2017/03/01-2017/03/08范围内，是否发生了回访行为 Y 事件，小明会被算作第2日、第3日、第5日、第7日的留存；则第1日、第4日、第6日被算作流失。

但是若细分维度时，会略有差异，分别说明提供的两类细分维度：

**用户属性：** 根据用户属性来分组，e.g. 性别，如果小明是男，则会被算到男性用户的留存当中

**事件属性：** 根据初始行为的事件属性分组，e.g. 设备品牌，如果小明3月1日方开始用 iPhone X 点击了XY，随后更换了华为 Mate8 又点击了 XY 事件，则小明会被算到 iPhone X 的分组中。

可以对比不同人群的留存，探索发现影响留存/流失的原因

![ ](https://imguserradar.analysys.cn/fangzhou/img/2018/08/201808111236442027.png)

> 注：所有用户的目标用户数是累加值，N日后的留存率是当前列每个数据与初始行为用户数的加权平均数。

#### 2.4 人群下钻分析

所有图表中的数据节点，都可以下钻查看人群概览以及保存人群。

下钻人群下钻功能与分群一致，可在[分群](../segmentation/)中作进一步了解。



{% hint style="info" %}
以上内容没有解答我的问题？[点击我来反馈](https://support.qq.com/products/118522/) 🚀
{% endhint %}

